# 2026.01

## 20260102

### 栈里面存的是什么？

当执行流被打断时，什么状态必须被保存？这些“执行上下文”有的用寄存器保存，有的用栈保存。编译器总是优先使用寄存器；用栈保存的原因可能是寄存器不够用了，也可能是寄存器无法保证正确性或生命周期的情况下被保存。

并不是所有临时变量都一定存在于栈上。在足够优化的情况下，如果函数不需要保存任何执行状态（例如简单的 add()），甚至可以完全不建立栈帧。

![alt text](image-1.png)

## 20260101

### 补码的目的
x86 不是有减法指令吗？为啥需要补码把负数变成非负数呢。这里需要区分的是，指令层面确实有减法，但电路层面是加法器在工作。在 ALU 里，sub a, b 是 a + (~b + 1)。有了补码，硬件只需要一个加法器，就能完成加法和减法。

